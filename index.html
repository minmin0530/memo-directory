<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>名鑑</title>
        <link rel="stylesheet" href="style.css">
        <script>
            window.onload = function() {
                /*
                document.getElementById("searchbutton").addEventListener('click', () => {
                        fetch('/search', {
                              method: 'POST', // or 'PUT'
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({search: document.getElementById("search").value}),
                    }
                    ).then( (res) => res.json() ).then( (data) => {
                        console.log(data);
                        let directory = "<h1>名鑑</h1><table><tr><td><h2>名前</h2></td><td><h2>特技</h2></td></tr>";
                        for (const d of data) {
                            // directory += "<tr><td><h2>名前</h2></td><td><h2>特技</h2></td></tr>";
                            directory += "<tr><td>" + d.name + "</td><td>" + d.can + "</td></tr>";
                        }
                        directory += "</table>";
                        document.getElementById("directory").innerHTML = directory;
                    });

                }, false);

                fetch('/api').then( (res) => res.json() ).then( (data) => {
                    console.log(data);
                    let directory = "<h1>名鑑</h1><table><tr><td><h2>名前</h2></td><td><h2>特技</h2></td></tr>";
                    for (const d of data) {
                        // directory += "<tr><td><h2>名前</h2></td><td><h2>特技</h2></td></tr>";
                        directory += "<tr><td>" + d.name + "</td><td>" + d.imgpath + "</td></tr>";
                    }
                    directory += "</table>";
                    document.getElementById("directory").innerHTML = directory;
                });
                */
            }
        </script>
    </head>
    <body>
        <div id="wrapper">
            <form action="/auth/facebook" method="get" >
                <h1>メモ魔名鑑</h1>
                <h1>facebook login</h1>
                <table>
                    <tr>
                        <td><button type="submit">facebook login</button></td>
                    </tr>
                </table>
            </form>
            <!--
            <form action="/home" method="post" id="loginform">
                <h1>login</h1>
                <table>
                    <tr>
                        <td>account</td>
                        <td><input type="text" id="account" name="account"></td>
                    </tr>
                    <tr>
                        <td>password</td>
                        <td><input type="password" id="password" name="password"></td>
                    </tr>
                    <tr>
                        <td><button type="submit">login</button></td>
                    </tr>
                </table>
            </form>
            <div id="directory"></div>
            <div>
                <h1>検索</h1>
                <table>
                    <tr>
                        <td><input type="text" id="search" name="search"></td><td><button id="searchbutton">検索</button></td>
                    </tr>
                </table>
            </div>
            -->
        </div>
    </body>
</html>